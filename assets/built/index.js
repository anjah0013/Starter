!function(t,e){t&&!t.getElementById("livereloadscript")&&((e=t.createElement("script")).async=1,e.src="//"+(self.location.host||"localhost").split(":")[0]+":35729/livereload.js?snipver=1",e.id="livereloadscript",t.getElementsByTagName("head")[0].appendChild(e))}(self.document),function(){"use strict";let t=document.querySelector('link[rel="next"]')?.getAttribute("href");document.addEventListener("DOMContentLoaded",(function(){const t=document.querySelector(".gh-more-posts-button"),e=document.querySelector(".gh-postfeed");t&&e&&t.addEventListener("click",(function(r){r.preventDefault(),e.classList.contains("gh-postfeed-expanded")?(e.classList.remove("gh-postfeed-expanded"),t.textContent="More Posts →",e.scrollIntoView({behavior:"smooth",block:"start"})):(e.classList.add("gh-postfeed-expanded"),t.textContent="← Show Less")}))}));class e{constructor(){this.posts=[],this.filteredPosts=[],this.currentFilters={tag:"",author:"",sort:"published_at desc"},this.init()}init(){this.cacheElements(),this.bindEvents(),this.collectPosts()}cacheElements(){this.tagFilter=document.getElementById("tagFilter"),this.authorFilter=document.getElementById("authorFilter"),this.sortFilter=document.getElementById("sortFilter"),this.resetButton=document.getElementById("resetFilters"),this.postsContainer=document.getElementById("postsContainer"),this.activeFiltersContainer=document.getElementById("activeFilters")}bindEvents(){this.tagFilter.addEventListener("change",(t=>this.handleFilterChange("tag",t.target.value))),this.authorFilter.addEventListener("change",(t=>this.handleFilterChange("author",t.target.value))),this.sortFilter.addEventListener("change",(t=>this.handleFilterChange("sort",t.target.value))),this.resetButton.addEventListener("click",(()=>this.resetFilters()))}collectPosts(){const t=document.querySelectorAll(".gh-card");this.posts=Array.from(t).map((t=>this.extractPostData(t))),this.filteredPosts=[...this.posts]}extractPostData(t){const e=t.querySelector(".gh-card-title")?.textContent.trim()||"",r=t.querySelector(".gh-card-link")?.href||"",s=t.querySelector(".gh-card-content p")?.textContent.trim()||"",i=t.querySelector(".gh-card-image")?.src||"",n=t.querySelector("time")?.getAttribute("datetime")||"",a=t.querySelector(".gh-card-meta")?.textContent.split("•")[1]?.trim()||"",l=Array.from(t.querySelectorAll(".gh-card-tag")).map((t=>({name:t.textContent.trim(),slug:this.slugify(t.textContent.trim())}))),o=Array.from(t.querySelectorAll(".gh-card-author")).map((t=>({name:t.textContent.trim(),slug:this.slugify(t.textContent.trim())}))),c=t.classList.contains("featured")||t.querySelector(".gh-card-featured");return{element:t,title:e,url:r,excerpt:s,featureImage:i,date:n,readingTime:a,tags:l,authors:o,isFeatured:c,timestamp:new Date(n).getTime()||0}}slugify(t){return t.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}handleFilterChange(t,e){this.currentFilters[t]=e,this.applyFilters(),this.updateActiveFilters()}applyFilters(){this.filteredPosts=this.posts.filter((t=>{if(this.currentFilters.tag){if(!t.tags.some((t=>t.slug===this.currentFilters.tag)))return!1}if(this.currentFilters.author){if(!t.authors.some((t=>t.slug===this.currentFilters.author)))return!1}return!0})),this.sortPosts(),this.renderPosts()}sortPosts(){const t=this.currentFilters.sort;this.filteredPosts.sort(((e,r)=>{switch(t){case"published_at desc":default:return r.timestamp-e.timestamp;case"published_at asc":return e.timestamp-r.timestamp;case"title asc":return e.title.localeCompare(r.title);case"title desc":return r.title.localeCompare(e.title);case"featured desc,published_at desc":return e.isFeatured&&!r.isFeatured?-1:!e.isFeatured&&r.isFeatured?1:r.timestamp-e.timestamp}}))}renderPosts(){const t=this.postsContainer.querySelector(".gh-no-results");0===this.filteredPosts.length?(this.posts.forEach((t=>t.element.style.display="none")),t&&(t.style.display="block")):(t&&(t.style.display="none"),this.posts.forEach((t=>t.element.style.display="none")),this.filteredPosts.forEach((t=>{t.element.style.display="block",this.postsContainer.appendChild(t.element)})))}updateActiveFilters(){const t=[];if(this.currentFilters.tag){const e=this.tagFilter.querySelector(`option[value="${this.currentFilters.tag}"]`);t.push({type:"tag",value:this.currentFilters.tag,label:e?.textContent||this.currentFilters.tag})}if(this.currentFilters.author){const e=this.authorFilter.querySelector(`option[value="${this.currentFilters.author}"]`);t.push({type:"author",value:this.currentFilters.author,label:e?.textContent||this.currentFilters.author})}this.renderActiveFilters(t)}renderActiveFilters(t){if(0===t.length)return void(this.activeFiltersContainer.innerHTML="");const e=t.map((t=>`\n            <div class="gh-active-filter">\n                <span>${t.label}</span>\n                <button class="gh-filter-remove" data-type="${t.type}" data-value="${t.value}">×</button>\n            </div>\n        `)).join("");this.activeFiltersContainer.innerHTML=e,this.activeFiltersContainer.querySelectorAll(".gh-filter-remove").forEach((t=>{t.addEventListener("click",(t=>{const e=t.target.dataset.type;this.removeFilter(e)}))}))}removeFilter(t){switch(this.currentFilters[t]="",t){case"tag":this.tagFilter.value="";break;case"author":this.authorFilter.value=""}this.applyFilters(),this.updateActiveFilters()}resetFilters(){this.currentFilters={tag:"",author:"",sort:"published_at desc"},this.tagFilter.value="",this.authorFilter.value="",this.sortFilter.value="published_at desc",this.applyFilters(),this.updateActiveFilters()}}document.addEventListener("DOMContentLoaded",(()=>{document.getElementById("postsContainer")&&new e})),document.querySelector(".gh-burger").addEventListener("click",(function(){document.body.classList.toggle("gh-head-open")})),function(){if(!t)return;new IntersectionObserver(((e,r)=>{try{e.forEach((e=>{e.isIntersecting&&t&&async function(t){try{const e=await fetch(t);if(!e.ok)throw new Error("Failed to fetch page");const r=await e.text(),s=(new DOMParser).parseFromString(r,"text/html"),i=s.querySelectorAll(".post"),n=s.querySelector('link[rel="next"]')?.getAttribute("href");return{posts:i,nextLink:n}}catch(t){throw new Error(t)}}(t).then((e=>{let{posts:s,nextLink:i}=e;s.forEach((t=>{document.querySelector(".gh-postfeed").append(t)})),i?(t=i,r.observe(document.querySelector(".post:last-of-type"))):r.disconnect()}))}))}catch(t){console.log(t)}}),{rootMargin:"150px"}).observe(document.querySelector(".post:last-of-type"))}(),function(){const t=document.querySelector(".gh-hero-section");if(!t)return;const e=t.querySelectorAll(".gh-hero-slide"),r=t.querySelectorAll(".gh-hero-dot"),s=t.querySelector(".gh-hero-prev"),i=t.querySelector(".gh-hero-next");if(0===e.length)return;let n,a=0;const l=5e3;function o(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"next";if(t===a)return;let i=t;i>=e.length?i=0:i<0&&(i=e.length-1),"auto"===s&&(s=i>a?"next":"prev",a===e.length-1&&0===i?s="next":0===a&&i===e.length-1&&(s="prev")),e.forEach(((t,e)=>{t.classList.remove("active","prev-slide","next-slide","exiting","exiting-left","exiting-right"),e===i?t.classList.add("active"):e===a&&(t.classList.add("exiting"),"next"===s?t.classList.add("exiting-left"):t.classList.add("exiting-right"))})),r.length>0&&(r[a].classList.remove("active"),r[i].classList.add("active")),a=i,setTimeout((()=>{e.forEach((t=>{t.classList.remove("exiting","exiting-left","exiting-right")}))}),800)}function c(){o(a+1,"next")}function h(){o(a-1,"prev")}function d(){u(),n=setInterval(c,l)}function u(){n&&clearInterval(n)}i&&i.addEventListener("click",(()=>{c(),d()})),s&&s.addEventListener("click",(()=>{h(),d()})),r.forEach(((t,e)=>{t.addEventListener("click",(()=>{o(e),d()}))})),t.addEventListener("mouseenter",u),t.addEventListener("mouseleave",d);let g=0,p=0;t.addEventListener("touchstart",(t=>{g=t.changedTouches[0].screenX,u()}),{passive:!0}),t.addEventListener("touchend",(t=>{p=t.changedTouches[0].screenX,function(){const t=50,e=g-p;Math.abs(e)>t&&(e>0?c():h())}(),d()}),{passive:!0}),document.addEventListener("keydown",(e=>{const r=t.getBoundingClientRect();r.top<window.innerHeight&&r.bottom>0&&("ArrowLeft"===e.key?(h(),d()):"ArrowRight"===e.key&&(c(),d()))})),e.forEach(((t,r)=>{t.classList.remove("active","prev-slide","next-slide","exiting","exiting-left","exiting-right"),0===r?t.classList.add("active"):1===r?t.classList.add("next-slide"):r===e.length-1&&t.classList.add("prev-slide")})),r.length>0&&r[0].classList.add("active"),d()}()}();
//# sourceMappingURL=index.js.map
