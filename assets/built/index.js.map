{"version":3,"file":"index.js","sources":["../js/infiniteScroll.js","../js/morePosts.js","../js/filters.js","../js/menuOpen.js","../js/index.js","../js/heroSlider.js"],"sourcesContent":["/*\r\nThis script continously loads post as the user scrolls the page. It uses the IntersectionObserver API to detect when the last post is in view. When the last post is in view, it fetches the next page and appends the posts to the page. It then checks if there is a next page and if there is, it continues to observe the last post. If there is no next page, it disconnects the observer. \r\n\r\nImportantly, for this script to work, it requires that each card have the `post` class and that the card container have the `gh-postfeed` class\r\n*/\r\n\r\nlet link = document.querySelector('link[rel=\"next\"]')?.getAttribute('href');\r\n\r\n// Fetch and parse next page\r\nasync function getNextPage(url) {\r\n    try {\r\n        const res = await fetch(url);\r\n        \r\n        if (!res.ok) {\r\n            throw new Error('Failed to fetch page')\r\n        }\r\n        \r\n        const nextPageHtml = await res.text();\r\n        const parser = new DOMParser();\r\n        const parsed = parser.parseFromString(nextPageHtml, 'text/html');\r\n        const posts = parsed.querySelectorAll('.post');\r\n        const nextLink = parsed.querySelector('link[rel=\"next\"]')?.getAttribute('href');\r\n        \r\n        return {posts, nextLink}\r\n\r\n    } catch (error) {\r\n        throw new Error(error)\r\n    }\r\n}\r\n\r\nexport default function infiniteScroll() {\r\n    \r\n    if (!link) { return; }\r\n\r\n    const options = {\r\n        // When the last card is within a 150px of the viewport, fetch the next page. This provides a smoother transition between pages \r\n       rootMargin: '150px',\r\n    }\r\n\r\n    const callback = (entries, observer) => {\r\n        try {\r\n            entries.forEach(entry => {\r\n            \r\n                if (entry.isIntersecting) {\r\n                    \r\n                    if (link) {\r\n                        getNextPage(link).then(({posts, nextLink}) => {\r\n                            posts.forEach(post => {\r\n                                document.querySelector('.gh-postfeed').append(post)\r\n                            })\r\n\r\n                            if (nextLink) {\r\n                                link = nextLink;\r\n                                observer.observe(document.querySelector('.post:last-of-type'))\r\n                            } else {\r\n                                observer.disconnect()\r\n                            }\r\n                        })\r\n                    }\r\n                }\r\n            })\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    let observer = new IntersectionObserver(callback, options);\r\n\r\n    observer.observe(document.querySelector('.post:last-of-type'))\r\n\r\n}","// More Posts functionality - toggle showing posts 4-6\ndocument.addEventListener('DOMContentLoaded', function() {\n    const morePostsButton = document.querySelector('.gh-more-posts-button');\n    const postfeed = document.querySelector('.gh-postfeed');\n    \n    if (morePostsButton && postfeed) {\n        morePostsButton.addEventListener('click', function(e) {\n            e.preventDefault();\n            \n            // Toggle expanded class\n            if (postfeed.classList.contains('gh-postfeed-expanded')) {\n                // Collapse - hide posts 4-6\n                postfeed.classList.remove('gh-postfeed-expanded');\n                morePostsButton.textContent = 'More Posts →';\n                postfeed.scrollIntoView({ behavior: 'smooth', block: 'start' });\n            } else {\n                // Expand - show posts 4-6\n                postfeed.classList.add('gh-postfeed-expanded');\n                morePostsButton.textContent = '← Show Less';\n            }\n        });\n    }\n});\n","class PostFilters {\n    constructor() {\n        this.posts = [];\n        this.filteredPosts = [];\n        this.currentFilters = {\n            tag: '',\n            author: '',\n            sort: 'published_at desc'\n        };\n        \n        this.init();\n    }\n\n    init() {\n        this.cacheElements();\n        this.bindEvents();\n        this.collectPosts();\n    }\n\n    cacheElements() {\n        this.tagFilter = document.getElementById('tagFilter');\n        this.authorFilter = document.getElementById('authorFilter');\n        this.sortFilter = document.getElementById('sortFilter');\n        this.resetButton = document.getElementById('resetFilters');\n        this.postsContainer = document.getElementById('postsContainer');\n        this.activeFiltersContainer = document.getElementById('activeFilters');\n    }\n\n    bindEvents() {\n        this.tagFilter.addEventListener('change', (e) => this.handleFilterChange('tag', e.target.value));\n        this.authorFilter.addEventListener('change', (e) => this.handleFilterChange('author', e.target.value));\n        this.sortFilter.addEventListener('change', (e) => this.handleFilterChange('sort', e.target.value));\n        this.resetButton.addEventListener('click', () => this.resetFilters());\n    }\n\n    collectPosts() {\n        const postCards = document.querySelectorAll('.gh-card');\n        this.posts = Array.from(postCards).map(card => this.extractPostData(card));\n        this.filteredPosts = [...this.posts];\n    }\n\n    extractPostData(card) {\n        const title = card.querySelector('.gh-card-title')?.textContent.trim() || '';\n        const url = card.querySelector('.gh-card-link')?.href || '';\n        const excerpt = card.querySelector('.gh-card-content p')?.textContent.trim() || '';\n        const featureImage = card.querySelector('.gh-card-image')?.src || '';\n        const date = card.querySelector('time')?.getAttribute('datetime') || '';\n        const readingTime = card.querySelector('.gh-card-meta')?.textContent.split('•')[1]?.trim() || '';\n        \n        // Extract tags\n        const tags = Array.from(card.querySelectorAll('.gh-card-tag')).map(tag => ({\n            name: tag.textContent.trim(),\n            slug: this.slugify(tag.textContent.trim())\n        }));\n\n        // Extract authors\n        const authors = Array.from(card.querySelectorAll('.gh-card-author')).map(author => ({\n            name: author.textContent.trim(),\n            slug: this.slugify(author.textContent.trim())\n        }));\n\n        // Check if featured\n        const isFeatured = card.classList.contains('featured') || card.querySelector('.gh-card-featured');\n\n        return {\n            element: card,\n            title,\n            url,\n            excerpt,\n            featureImage,\n            date,\n            readingTime,\n            tags,\n            authors,\n            isFeatured,\n            timestamp: new Date(date).getTime() || 0\n        };\n    }\n\n    slugify(text) {\n        return text.toString().toLowerCase()\n            .replace(/\\s+/g, '-')\n            .replace(/[^\\w\\-]+/g, '')\n            .replace(/\\-\\-+/g, '-')\n            .replace(/^-+/, '')\n            .replace(/-+$/, '');\n    }\n\n    handleFilterChange(filterType, value) {\n        this.currentFilters[filterType] = value;\n        this.applyFilters();\n        this.updateActiveFilters();\n    }\n\n    applyFilters() {\n        this.filteredPosts = this.posts.filter(post => {\n            // Tag filter\n            if (this.currentFilters.tag) {\n                const hasTag = post.tags.some(tag => tag.slug === this.currentFilters.tag);\n                if (!hasTag) return false;\n            }\n\n            // Author filter\n            if (this.currentFilters.author) {\n                const hasAuthor = post.authors.some(author => author.slug === this.currentFilters.author);\n                if (!hasAuthor) return false;\n            }\n\n            return true;\n        });\n\n        this.sortPosts();\n        this.renderPosts();\n    }\n\n    sortPosts() {\n        const sortOption = this.currentFilters.sort;\n        \n        this.filteredPosts.sort((a, b) => {\n            switch (sortOption) {\n                case 'published_at desc':\n                    return b.timestamp - a.timestamp;\n                case 'published_at asc':\n                    return a.timestamp - b.timestamp;\n                case 'title asc':\n                    return a.title.localeCompare(b.title);\n                case 'title desc':\n                    return b.title.localeCompare(a.title);\n                case 'featured desc,published_at desc':\n                    if (a.isFeatured && !b.isFeatured) return -1;\n                    if (!a.isFeatured && b.isFeatured) return 1;\n                    return b.timestamp - a.timestamp;\n                default:\n                    return b.timestamp - a.timestamp;\n            }\n        });\n    }\n\n    renderPosts() {\n        const noResults = this.postsContainer.querySelector('.gh-no-results');\n        \n        if (this.filteredPosts.length === 0) {\n            // Hide all post cards\n            this.posts.forEach(post => post.element.style.display = 'none');\n            // Show no results message\n            if (noResults) noResults.style.display = 'block';\n        } else {\n            // Hide no results message\n            if (noResults) noResults.style.display = 'none';\n            \n            // Hide all posts first\n            this.posts.forEach(post => post.element.style.display = 'none');\n            \n            // Show filtered posts in order\n            this.filteredPosts.forEach(post => {\n                post.element.style.display = 'block';\n                this.postsContainer.appendChild(post.element);\n            });\n        }\n    }\n\n    updateActiveFilters() {\n        const activeFilters = [];\n        \n        if (this.currentFilters.tag) {\n            const tagOption = this.tagFilter.querySelector(`option[value=\"${this.currentFilters.tag}\"]`);\n            activeFilters.push({\n                type: 'tag',\n                value: this.currentFilters.tag,\n                label: tagOption?.textContent || this.currentFilters.tag\n            });\n        }\n        \n        if (this.currentFilters.author) {\n            const authorOption = this.authorFilter.querySelector(`option[value=\"${this.currentFilters.author}\"]`);\n            activeFilters.push({\n                type: 'author',\n                value: this.currentFilters.author,\n                label: authorOption?.textContent || this.currentFilters.author\n            });\n        }\n\n        this.renderActiveFilters(activeFilters);\n    }\n\n    renderActiveFilters(activeFilters) {\n        if (activeFilters.length === 0) {\n            this.activeFiltersContainer.innerHTML = '';\n            return;\n        }\n\n        const html = activeFilters.map(filter => `\n            <div class=\"gh-active-filter\">\n                <span>${filter.label}</span>\n                <button class=\"gh-filter-remove\" data-type=\"${filter.type}\" data-value=\"${filter.value}\">×</button>\n            </div>\n        `).join('');\n\n        this.activeFiltersContainer.innerHTML = html;\n\n        // Bind remove events\n        this.activeFiltersContainer.querySelectorAll('.gh-filter-remove').forEach(button => {\n            button.addEventListener('click', (e) => {\n                const type = e.target.dataset.type;\n                this.removeFilter(type);\n            });\n        });\n    }\n\n    removeFilter(type) {\n        this.currentFilters[type] = '';\n        \n        // Reset the corresponding dropdown\n        switch (type) {\n            case 'tag':\n                this.tagFilter.value = '';\n                break;\n            case 'author':\n                this.authorFilter.value = '';\n                break;\n        }\n        \n        this.applyFilters();\n        this.updateActiveFilters();\n    }\n\n    resetFilters() {\n        this.currentFilters = {\n            tag: '',\n            author: '',\n            sort: 'published_at desc'\n        };\n        \n        this.tagFilter.value = '';\n        this.authorFilter.value = '';\n        this.sortFilter.value = 'published_at desc';\n        \n        this.applyFilters();\n        this.updateActiveFilters();\n    }\n}\n\n// Initialize filters when DOM is ready\ndocument.addEventListener('DOMContentLoaded', () => {\n    if (document.getElementById('postsContainer')) {\n        new PostFilters();\n    }\n});\n","// Toggle the menu open and close when on mobile\r\nexport default function menuOpen() {\r\n    const burgerButton = document.querySelector('.gh-burger');\r\n    burgerButton.addEventListener('click', function () {\r\n        document.body.classList.toggle('gh-head-open');\r\n    });\r\n}","// JavaScript files are compiled and minified during the build process to the assets/built folder. See available scripts in the package.json file.\r\n\r\n// Import CSS\r\nimport \"../css/index.css\";\r\n\r\n// Import JS\r\nimport menuOpen from \"./menuOpen\";\r\nimport infiniteScroll from \"./infiniteScroll\";\r\nimport heroSlider from \"./heroSlider\";\r\nimport \"./morePosts\";\r\nimport \"./filters\";\r\n\r\n// Call the menu and infinite scroll functions\r\nmenuOpen();\r\ninfiniteScroll();\r\nheroSlider();","// Hero Slider Functionality\nexport default function heroSlider() {\n    const heroSection = document.querySelector('.gh-hero-section');\n    if (!heroSection) return;\n\n    const slides = heroSection.querySelectorAll('.gh-hero-slide');\n    const dots = heroSection.querySelectorAll('.gh-hero-dot');\n    const prevBtn = heroSection.querySelector('.gh-hero-prev');\n    const nextBtn = heroSection.querySelector('.gh-hero-next');\n\n    if (slides.length === 0) return;\n\n    let currentSlide = 0;\n    let slideInterval;\n    const autoPlayDelay = 5000; // 5 seconds between slides\n\n    // Initialize first slide\n    function init() {\n        slides.forEach((slide, i) => {\n            slide.classList.remove('active', 'prev-slide', 'next-slide', 'exiting', 'exiting-left', 'exiting-right');\n            if (i === 0) {\n                slide.classList.add('active');\n            } else if (i === 1) {\n                slide.classList.add('next-slide');\n            } else if (i === slides.length - 1) {\n                slide.classList.add('prev-slide');\n            }\n        });\n        if (dots.length > 0) {\n            dots[0].classList.add('active');\n        }\n        startAutoPlay();\n    }\n\n    // Show specific slide with stacking animation\n    function showSlide(newIndex, direction = 'next') {\n        if (newIndex === currentSlide) return;\n\n        // Calculate actual index with wrapping\n        let targetIndex = newIndex;\n        if (targetIndex >= slides.length) {\n            targetIndex = 0;\n        } else if (targetIndex < 0) {\n            targetIndex = slides.length - 1;\n        }\n\n        // Determine direction if not specified\n        if (direction === 'auto') {\n            direction = targetIndex > currentSlide ? 'next' : 'prev';\n            // Handle wrap-around cases\n            if (currentSlide === slides.length - 1 && targetIndex === 0) {\n                direction = 'next';\n            } else if (currentSlide === 0 && targetIndex === slides.length - 1) {\n                direction = 'prev';\n            }\n        }\n\n        // Prepare the next slide (position it underneath)\n        slides.forEach((slide, i) => {\n            slide.classList.remove('active', 'prev-slide', 'next-slide', 'exiting', 'exiting-left', 'exiting-right');\n            \n            if (i === targetIndex) {\n                // This will be the new active slide\n                slide.classList.add('active');\n            } else if (i === currentSlide) {\n                // Current slide slides away\n                slide.classList.add('exiting');\n                if (direction === 'next') {\n                    slide.classList.add('exiting-left');\n                } else {\n                    slide.classList.add('exiting-right');\n                }\n            }\n        });\n\n        // Update dot navigation\n        if (dots.length > 0) {\n            dots[currentSlide].classList.remove('active');\n            dots[targetIndex].classList.add('active');\n        }\n\n        // Update current slide index\n        currentSlide = targetIndex;\n\n        // Clean up exiting class after animation completes\n        setTimeout(() => {\n            slides.forEach(slide => {\n                slide.classList.remove('exiting', 'exiting-left', 'exiting-right');\n            });\n        }, 800);\n    }\n\n    // Next slide\n    function nextSlide() {\n        showSlide(currentSlide + 1, 'next');\n    }\n\n    // Previous slide\n    function prevSlide() {\n        showSlide(currentSlide - 1, 'prev');\n    }\n\n    // Start autoplay\n    function startAutoPlay() {\n        stopAutoPlay();\n        slideInterval = setInterval(nextSlide, autoPlayDelay);\n    }\n\n    // Stop autoplay\n    function stopAutoPlay() {\n        if (slideInterval) {\n            clearInterval(slideInterval);\n        }\n    }\n\n    // Event listeners\n    if (nextBtn) {\n        nextBtn.addEventListener('click', () => {\n            nextSlide();\n            startAutoPlay(); // Reset timer on manual navigation\n        });\n    }\n\n    if (prevBtn) {\n        prevBtn.addEventListener('click', () => {\n            prevSlide();\n            startAutoPlay(); // Reset timer on manual navigation\n        });\n    }\n\n    // Dot navigation\n    dots.forEach((dot, index) => {\n        dot.addEventListener('click', () => {\n            showSlide(index);\n            startAutoPlay(); // Reset timer on manual navigation\n        });\n    });\n\n    // Pause on hover\n    heroSection.addEventListener('mouseenter', stopAutoPlay);\n    heroSection.addEventListener('mouseleave', startAutoPlay);\n\n    // Touch/swipe support\n    let touchStartX = 0;\n    let touchEndX = 0;\n\n    heroSection.addEventListener('touchstart', (e) => {\n        touchStartX = e.changedTouches[0].screenX;\n        stopAutoPlay();\n    }, { passive: true });\n\n    heroSection.addEventListener('touchend', (e) => {\n        touchEndX = e.changedTouches[0].screenX;\n        handleSwipe();\n        startAutoPlay();\n    }, { passive: true });\n\n    function handleSwipe() {\n        const swipeThreshold = 50;\n        const diff = touchStartX - touchEndX;\n\n        if (Math.abs(diff) > swipeThreshold) {\n            if (diff > 0) {\n                nextSlide();\n            } else {\n                prevSlide();\n            }\n        }\n    }\n\n    // Keyboard navigation\n    document.addEventListener('keydown', (e) => {\n        // Only handle if hero section is in viewport\n        const rect = heroSection.getBoundingClientRect();\n        const isInViewport = rect.top < window.innerHeight && rect.bottom > 0;\n\n        if (!isInViewport) return;\n\n        if (e.key === 'ArrowLeft') {\n            prevSlide();\n            startAutoPlay();\n        } else if (e.key === 'ArrowRight') {\n            nextSlide();\n            startAutoPlay();\n        }\n    });\n\n    // Initialize\n    init();\n}\n"],"names":["link","document","querySelector","getAttribute","addEventListener","morePostsButton","postfeed","e","preventDefault","classList","contains","remove","textContent","scrollIntoView","behavior","block","add","PostFilters","constructor","this","posts","filteredPosts","currentFilters","tag","author","sort","init","cacheElements","bindEvents","collectPosts","tagFilter","getElementById","authorFilter","sortFilter","resetButton","postsContainer","activeFiltersContainer","handleFilterChange","target","value","resetFilters","postCards","querySelectorAll","Array","from","map","card","extractPostData","title","trim","url","href","excerpt","featureImage","src","date","readingTime","split","tags","name","slug","slugify","authors","isFeatured","element","timestamp","Date","getTime","text","toString","toLowerCase","replace","filterType","applyFilters","updateActiveFilters","filter","post","some","sortPosts","renderPosts","sortOption","a","b","localeCompare","noResults","length","forEach","style","display","appendChild","activeFilters","tagOption","push","type","label","authorOption","renderActiveFilters","innerHTML","html","join","button","dataset","removeFilter","body","toggle","IntersectionObserver","callback","entries","observer","entry","isIntersecting","async","res","fetch","ok","Error","nextPageHtml","parsed","DOMParser","parseFromString","nextLink","error","getNextPage","then","_ref","append","observe","disconnect","console","log","rootMargin","infiniteScroll","heroSection","slides","dots","prevBtn","nextBtn","slideInterval","currentSlide","autoPlayDelay","showSlide","newIndex","direction","arguments","undefined","targetIndex","slide","i","setTimeout","nextSlide","prevSlide","startAutoPlay","stopAutoPlay","setInterval","clearInterval","dot","index","touchStartX","touchEndX","changedTouches","screenX","passive","swipeThreshold","diff","Math","abs","handleSwipe","rect","getBoundingClientRect","top","window","innerHeight","bottom","key","heroSlider"],"mappings":"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"}